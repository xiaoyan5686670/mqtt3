# 设备在线状态功能 - 快速参考卡 🚀

## ⚡ 30秒快速启动

```bash
# 后端
cd backend && source venv/bin/activate && python main.py

# 前端（新终端）
cd frontend && npm run dev

# 浏览器
http://localhost:5173
```

## 🎯 功能位置

| 功能 | 位置 |
|------|------|
| 统计卡片 | Dashboard 首页顶部 |
| 状态圆点 | 设备卡片左上角 |
| API配置 | 导航栏 → EMQX API配置 |

## 🔑 配置信息

```
服务器: 172.16.208.176:18083
API Key: f3d064c3dacad617
Secret: ezGnurOe8d4GV2LJF4Ptw46wnavTqL9AenBZyIoePWwP
状态: ✅ 已配置
```

## 🔍 状态说明

| 图标 | 状态 | 效果 |
|------|------|------|
| 🟢 | 在线 | 脉冲闪烁 |
| 🔴 | 离线 | 静止 |

## 🧪 快速测试

```bash
# 连接测试设备
mosquitto_pub -h 172.16.208.176 -p 1883 -i test_001 -t test -m hi -d

# 观察 Dashboard 在线设备数 +1
# 断开（Ctrl+C），观察在线设备数 -1
```

## 🐛 故障排查

| 问题 | 解决方案 |
|------|----------|
| 全部离线 | 检查API Key、EMQX服务、设备ClientID |
| 不刷新 | 按F5刷新页面，检查控制台 |
| 连接失败 | 在"EMQX API配置"测试连接 |

## 📞 快速命令

```bash
# 查看日志
tail -f backend/logs/app.log

# 测试API
curl -u f3d064c3dacad617:ezGnurOe8d4GV2LJF4Ptw46wnavTqL9AenBZyIoePWwP \
  http://172.16.208.176:18083/api/v5/clients

# 测试工具
cd backend && python test_emqx_api.py
```

## 📚 完整文档

- [使用说明](./设备在线状态-使用说明.md)
- [启动指南](./启动验证指南.md)
- [功能总结](./功能实现总结.md)

---

**提示：** 状态刷新间隔5秒，等待片刻看到最新状态 ⏱️
